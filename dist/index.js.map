{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["\"use strict\";\n\nimport React, {useState} from 'react'\n\nconst getNavStyles = (indx, length) => {\n  let styles = []\n  for (let i = 0; i < length; i++) {\n    if (i < indx) {\n      styles.push('done')\n    } else if (i === indx) {\n      styles.push('doing')\n    } else {\n      styles.push('todo')\n    }\n  }\n  return styles\n}\n\nconst getButtonsState = (indx, length) => {\n  if (indx > 0 && indx < length - 1) {\n    return {\n      showPreviousBtn: true,\n      showNextBtn: true\n    }\n  } else if (indx === 0) {\n    return {\n      showPreviousBtn: false,\n      showNextBtn: true\n    }\n  } else {\n    return {\n      showPreviousBtn: true,\n      showNextBtn: false\n    }\n  }\n}\n\nexport default function MultiStep(props) {\n  const [stylesState, setStyles] = useState(getNavStyles(0, props.steps.length))\n  const [compState, setComp] = useState(0)\n  const [buttonsState, setButtons] = useState(getButtonsState(0, props.steps.length))\n  \n  function setStepState(indx) {\n    setStyles(getNavStyles(indx, props.steps.length))\n    setComp(indx < props.steps.length? indx : compState)\n    setButtons(getButtonsState(indx, props.steps.length))\n  }\n\n  const next = () => setStepState(compState + 1)\n  \n  const previous = () => setStepState((compState > 0) ? compState - 1 : compState)\n\n  const handleKeyDown = (evt) => evt.which === 13 ? next(props.steps.length) : {}\n\n  const handleOnClick = (evt) => {\n    if (evt.currentTarget.value === props.steps.length - 1 && compState === props.steps.length - 1) {\n      setStepState(props.steps.length)\n    } else {\n      setStepState(evt.currentTarget.value)\n    }\n  }\n\n  const renderSteps = () => \n    props.steps.map((s, i) => (\n      <li\n        className={'progtrckr-' + stylesState[i]}\n        onClick={handleOnClick}\n        key={i}\n        value={i}\n      >\n        <em>{i + 1}</em>\n        <span>{props.steps[i].name}</span>\n      </li>\n    ))\n\n  return (\n      <div className='container' onKeyDown={handleKeyDown}>\n        <ol className='progtrckr'>\n          {renderSteps()}\n        </ol>\n        {props.steps[compState].component}\n        <div style={props.showNavigation ? {} : { display: 'none' }}>\n          <button\n            style={buttonsState.showPreviousBtn ? {} : { display: 'none' }}\n            onClick={previous}\n          >\n            Previous\n          </button>\n\n          <button\n            style={buttonsState.showNextBtn ? {} : { display: 'none' }}\n            onClick={next}\n          >\n            Next\n          </button>\n        </div>\n      </div>\n  )\n}\n\nMultiStep.defaultProps = {\n  showNavigation: true\n}\n"],"names":["getNavStyles","indx","length","styles","i","push","getButtonsState","showPreviousBtn","showNextBtn","MultiStep","props","useState","steps","stylesState","setStyles","compState","setComp","buttonsState","setButtons","setStepState","next","previous","handleKeyDown","evt","which","handleOnClick","currentTarget","value","renderSteps","map","s","name","component","showNavigation","display","defaultProps"],"mappings":"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"}